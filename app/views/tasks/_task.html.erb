<turbo-frame id="<%= dom_id task %>" class="block">

<div class="block">
  <%= form_with(model: task, class:"text-lg inline-block my-3 w-72") do |form| %>
    <%= form.check_box :completed,

                    # data-action="tasks#toggle" chamará o metodo toggle do controller tasks.
                       data: {
                         id: task.id,
                         action: "tasks#toggle"
                       },
                       class: "mr-2 align-middle bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-5 w-5 rounded checked:bg-green-500" %>
    <%= task.description %>
  <% end %>


        <%= link_to "Edit", edit_task_path(task), class: "btn bg-gray-100" %>
  


  <div class="inline-block ml-2">
   <%= button_to "Delete", task_path(task), method: :delete, data: { "turbo-frame": "_top" }, class: "btn bg-red-100" %>
  </div>


  
</div>


</turbo-frame>

<%# O data-idatributo não é específico do Stimulus, mas estamos usando ele para passar o id da tarefa para o controlador para que possamos passar para o servidor.
O data-actionatributo informa ao Stimulus que sempre que um usuário clicar nessa caixa de seleção, chame o togglemétodo definido no controlador no tasks_controller.jsarquivo.


Observação: o atributo data-action deve estar aninhado dentro de um elemento que está sendo conectado ao controlador de estímulo. Em nosso caso, a parcial da tarefa é renderizada dentro de nosso elemento div no modelo de índice. É assim que o Stimulus sabe qual ação do controlador chamar.


 %>